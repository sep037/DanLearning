> `네트워크` 컴퓨터등의 장치들이 통신 기술을 이용하여 구축하는 연결망을 지칭하는 용어
> 

## 1. 네트워크의 기초

- 네트워크
    - 노드와 링크가 서로 연결되어 있으며 리소스를 공유하는 집합
        - 노드: 서버, 라우터, 스위치 등 네트워크 장치
        - 링크: 유선 또는 무선

### (1) 처리량과 지연 시간

- 좋은 네트워크 = 많은 처리량 + 짧은 지연 시간  + 적은 장애빈도 + 좋은 보안
- **처리량:** 링크 내에서 성공적으로 전달된 데이터의 양 (얼만큼 트래픽이 처리되었는지)
    - 많은 트래픽을 처리함 = 많은 처리량을 가짐
    - 처리량에 영향 주는 요소
        - 커지는 트픽, 대역폭, 네트워크 중간에 발생하는 에러, 하드웨어 스펙
    - 단위: bps (bit per second, 초당 전송되는 비트 수)
    - 트래픽: 특정 시점 링크 내에서 흐르는 데이터의 양
    - 대역폭: 주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수
- **지연시간:** 요청이 처리되는 시간 (어떤 메시지가 두 장치 사이를 왕복하는 데 걸린 시간)
    - 지연시간에 영향을 주는 요소
        - 매체 타입(무선,유선), 패킷 크기, 라우터의 패킷 처리 시간

### (2) 네트워크 토폴로지와 병목 현상

- **네트워크 토폴로지:** 노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 행태
- 종류
    - 트리 토폴로지 (계층형 토폴로지)
        - 트리 형태로 배치한 네트워크 구성
        - 장점: 노드의 추가, 삭제가 쉬움
        - 단점: 특정 노드에 트래픽이 집중될 때 하위 노드에 영향 끼칠 수 있음
    - 버스 토폴로지
        - 중앙 통신 회선 하나에 여러 개의 노드가 연결되어 공유하는 네트워크 구성
        - 장점: 설치 비용이 적고 신뢰성이 우수하며 중앙 통신에 노드 추가, 삭제 용이
        - 단점: 스푸핑이 가능함
            - LAN 상에서 송신부의 패킷을 송신과 관련 없는 다른 호스트에 가지 않도록 하는 스위치 기능을 마비시키거나 속여서 특정 노드에 해당 패킷이 오도록 처리하는 것
    - 스타 토폴로지 (성형 토폴로지)
        - 중앙에 있는 노드에 모두 연결된 네트워크 구성
        - 장점
            - 노드 추가와 에러 탐지 쉬움
            - 패킷 충돌 발생 가능성 적음
            - 에러 발생 중앙 노드가 아닐 경우 다른 노드에 영향 끼치는 것이 적음
        - 단점
            - 중앙 노드에 에러 발생시 전체 네트워크 사용 불가능
            - 설치 비용이 고가
    - 링형 토폴로지
        - 각각의 노드가 양 옆의 두 노드와 연결하여 전체적으로 고치처럼 하나의 연속된 길을 통해 통신을 하는 망 구성 방식
        - 데이터: 노드에서 노드로 이동
            - 각각의 노드: 고리 모양의 길을 통해 패킷 처리
        - 장점
            - 노드 수가 증가되어도 네트워크상의 손실이 거의 없음
            - 충돌 발생 가능성 적음
            - 노드의 고장 발견을 쉽게 찾을 수 있음
        - 단점
            - 네트워크 구성 변경이 어려움
            - 회선에 장애가 발생하면 저체 네트워크에 영향을 크게 끼침
    - 메시 토폴로지 (망형 토폴로지)
        - 그물망처럼 연결되어 있는 구조
        - 장점
            - 한 단말 장치에 장애가 발생해도 여러 개의 경로가 존재하므로 네트워크를 계속 사용 가능
            - 트래픽 분산 처리 가능
        - 단점
            - 노드의 추가 어려움
            - 구축비용과 운용비용이 고가
- **병목현상**
    - 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상
    - 토폴로지 = 병목 현상을 찾을 때 중요한 기준

### (3) 네트워크 분류

- 규모 기반의 분류
    - LAN (Local Area Network): 사무실과 개인적으로 소유 가능한 규모
        - 근거리 통신망
        - 같은 건물이나 캠퍼스 같은 좁은 공간에서 운영
        - 전송 속도가 빠르고 혼잡하지 않음
    - MAN (Metropolitan Area Network): 시 정도의 규모
        - 대도시 지역 네트워크
        - 전송 속도는 평균이며 LAN보다는 더 많이 혼잡
    - WAN (Wide Area Network): 세계 규모
        - 광역 네트워크
        - 전송 속도는 낮으며 MAN보다 더 혼잡함

### (4) 네트워크 성능 분석 명령어

- 애플리케이션 코드 문제 없는데 데이터 가져오지 못하는 상황 → 네트워크 병목 현상 가능성 존재
    - 네트워크 병목 현상 주된 원인
        - 네트워크 대역폭
        - 네트워크 토폴로지
        - 서버 CPU, 메모리 사용량
        - 비효율적인 네트워크 구성
    - 네트워크 관련 또는 무관련 테스트 통하여 네트워크로부터 발생한 문제점인지 확인한 후 네트워크 성능 분석 필요
        - 이때 사용되는 명령어
            - ping: 네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어
            - netstat: 접속되어 있는 서비스들의 네트워크 상태를 표시하는 데 사용되며 네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등 리스트를 보여줌. (서비스가 열려있는지 확인시 쓰임)
            - nslookup: DNS에 관련된 내용을 확인하기 위해 쓰는 명령어 (특정 도메인에 매핑된 IP를 확인하기 위해 사용함)
            - tracert: 목적지 노드까지 네트워크 경로를 확인할 때 사용하는 명령어 (목적지 노드까지 구간들 주 어느 구간에서 응답 시간이 느려지는지 등을 확인 가능)

### (5) 네트워크 프로토콜 표준화

- 네트워크 프로토콜: 다른 장치들끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스
    - IEEE802.3
        - 유선 LAN 프로토콜
        - 유선으로 LAN을 구축할 때 쓰이는 프로토콜
    - HTTP
        - 웹 접속시 쓰임
        - 서로약속된 인터페이스인 HTTP 프로토콜을 통해 노드들은 웹 서비스를 기반으로 데이터를 주고 받을 수 있음

## 2. TCP/IP 4계층 모델

- 인터넷 프로토콜 스위트 (Internet Protocol Suite)
    - 인터넷에서 컴퓨터들이 서로 정보를 주고 받는 데 쓰이는 프로토콜의 집합
    - TCP/IP 4계층 모델 또는 OSI 7계층 모델로 설명
- TCP/IP 4계층 모델
    - 네트워크에 사용되는 통신 프로토콜의 집합
    - 계층들은 프로토콜의 네으퉈잌 범위에 따라 네 개의 추상화 계층으로 구성됨

### (1) 계층 구조

- TCP/IP 계층
    - 애플리케이션 계층 - 전송 계층 - 인터넷 계층 - 링크 계층
- OSI 7계층
    - 애플리케이션 계층 - 프레젠테이션 (표현) 계층 - 세션 계층 - 전송 계층 - 네트워크 계층 - 데이터 링크 계층 - 물리 계층
- 이 계층들은 특정 계층이 변경되었을 때 다른 계층이 영향을 받지 않도록 설계됨
    - ex. 전송 계층에서 TCP를 UDP로 변경했다고 해서 인터넷 웹 브라우저를 다시 설치할 필요 X
- TCP/IP 계층에서 각 계층을 대표하는 스택
    - 애플리케이션 계층 : FTP / HTTP / SSH / SMTP / DNS
    - 전송 계층 : TCP / UDP/ QUIC
    - 인터넷 계층 : IP / ARP / ICMP
    - 링크 계층 : 이더넷

### 애플리케이션 계층

- FTP, HTTP, SSH, SMTP, DNS 등 응용프로그램이 사용되는 프로토콜 계층
    - FTP : 장치와 장치 간의 파일을 전송하는 데 사용되는 표준 통신 프로토콜
    - SSH : 보안되지 않은 네트워크에서 서비스를 안전하게 운영하기 위한 암호화 네트워크 프로토콜
    - HTTP : World Wide Web을 위한 데이터 통신의 기초이자 웹 사이트를 이용하는 데 쓰는 프로토콜
    - SMTP : 전자 메일 전송을 이한 인터넷 표준 통신 프로토콜
    - DNS
        - 도메인 이름과 IP 주소를 매핑해주는 서버
        - ex. www.naver.com에 DNS 쿼리가 오면   [Root DNS] → [.com DNS]  →  [.naver DNS]  →  [.www DNS] 과정을 거쳐 완벽한 주소를 찾아 IP 주소를 매핑함
        - 이를 통해 IP 주소가 바뀌어도 사용자들에게 똑같은 도메인 주소로 서비스할 수 있음
- 웹 서비스, 이메일 등 서비스를 실질적으로 사람들에게 제공하는 층

### 전송 계층

- 송신자와 수신자를 연결하는 통신 서비스를 제공하며 연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어를 제공할 수 있으며 애플리케이션과 인터넷 계층 사이의 데이터가 전달될 때 중계 역할을 함
- 대표적인 전송 계층 방식
    - TCP : 패킷 사이의 순서를 보장하고 연결지향 프로토콜을 사용해서 연결을 하여 신뢰성을 구축해서 수신 여부를 확인하며 ‘가상회선 패킷 교환 방식’을 사용함
    - UDP : 순서를 보장하지 않고 수신 여부를 확인하지 않으며 단순히 데이터만 주는 ‘데이터그램 패킷 교환 방식’을 사용함
- 패킷 교환 방식
    - 가상회선 패킷 교환 방식
        - 각 패킷에는 가상회선 식별자가 포함되며 모든 패킷을 전송하면 가상회선이 해제되고 패킷들은 전송된 순서대로 도착하는 방식
    - 데이터그램 패킷 교환 방식
        - 패킷이 독립적으로 이동하며 최적의 경로를 선택하여 가는데 하나의 메시지에서 분할된 여러 패킷은 서로 다른 경로로 전송될 수 있으며 도착한 순서가 다를 수 있는 방식
- TCP 연결 성립 과정
    - 3 웨이 핸드셰이크: TCP가 신뢰성을 확보하기 위해 진행하는 작업
        - 이 과정 이후 신뢰성이 구축되고 데이터 전송이 시작됨
        - 이 과정이 있으므로 TCP는 신뢰성이 있는 계층이며, UDP는 이 과정이 없으므로 신뢰성이 없는 계층임
    - 용어
        - SYN = SYNchornization의 약자, 연결 요청 플래그
        - ACK = ACKnowledgement의 약자, 응답 플래그
        - ISN = Initial Squence Numbers의 약어, 초기 네트워크 연결을 할 때 할당된 32비트 고유 시퀀스 번호
    - 과정
        1. SYN 단계
            1. 클라이언트는 서버에 클라이언트의 ISN을 담아 SYN을 보냄
                1. ISN : 새로운 TCP 연결의 첫 번쨰 패킷에 할당된 임의이 시퀀스 번호 (장치마다 다를 수 있음)
        2. SYN + ACK 단계
            1. 서버는 클라이언트의 SYN을 수신하고 서버의 ISN을 보내며 승인번호로 클라이언트의 ISN + 1을 보냄
        3. ACK 단계
            1. 클라이언트는 서버의 ISN + 1한 값인 승인번호를 담아 ACK를 서버에 보냄
- TCP 연결 해제 과정
    - 4웨이 핸드셰이크
        1. 클라이언트가 연결을 닫으려고 할 때 FIN으로 설정된 세그먼트를 보냄 → 클라이언트는 FIN_WAIT_1 상태로 들어가고 서버의 응답을 기다림
        2. 서버는 클라이언트로 ACK라는 승인 세그먼트를 보냄 → CLOSE_WAIT 상태에 들어감 → 클라이언트가 세그먼트를 받으면 FIN_WAIT_3 상태에 들어감
        3. 서버는 ACK을 보내고 일정 시간 이후에 클라이언트에 FIN이라는 세그먼트를 보냄
        4. 클라이언트는 TIME_WAIT 상태가 되고 다시 서버로 ACK를 보내서 서버는 CLOSED 상태가 됨 → 클라이언트는 어느 정도의 시간을 대기한 후 연결이 닫힘 → 클라이언트와 서버의 모든 자원의 연결이 해제됨
            1. TIME_WAIT
                1. 소켓이 바로 소멸되지 않고 일정 시간 유지되는 상태 
                2. 일정 시간 뒤에 연결을 닫는 이유
                    1. 지연 패킷이 발생할 경우를 대비하기 위해서
                    2. 두 장치가 연결이 닫혔는지 확인하기 위해서

### 인터넷 계층

- 장치로부터 받은 네트워크 패킷을 IP 주소로 지정된 목적지로 전송하기 위해 사용되는 계층
- IP, ARP, ICMP 등이 있음
- 패킷을 수신해야 할 상대의 주소를 지정하여 데이터를 전달함
- 비연결형적
    - 상대방이 제대로 받았는지에 대해 보장하지 않음

### 링크 계층

- 유선 LAN (IEEE802.3)
    - 유선 LAN을 이루는 이더넷은 IEEE802.3이라는 프로토콜을 따름
    - 전이중화(full duplex) 통신을 씀
        - 양쪽 장치가 동시에 송수신할 수 있는 방식
        - 송신로와 수신로로 나눠서 데이터를 주고받음
        - 현대의 고속 이더넷이 기반으로 하는 통신
    - (이전 방식) 반이중화 통신 중 하나인 CSMA/CD (Carrier Sense Multiple Access with Collision Detection) 방식
        - 한 경로를 기반으로 데이터 보냄 → 데이터 전송시 충돌 대비 필요
- 유선 LAN을 이루는 케이블
    - TP 케이블 (트위스트 페어 케이블)
        - 하나의 케이블처럼 보이지만 실제로는 여덟 개의 구리선을 두 개씩 꼬아서 묶은 케이블을 지칭함
        - 케이블 종류
            - UTP 케이블 : 구리선을 실드 처리하지 않고 덮음
                - 우리가 많이 볼 수 있는 케이블
                - LAN 케이블이라고 함
                - RJ-45 커넥터: LAN 케이블을 꽂을 수 있는 커넥터
            - STP케이블 : 구리선을 실드 처리하고 덮음
    - 광섬유 케이블
        - 광섬유로 만든 케이블
        - 레이저를 이용해서 통신하기 때문에 구리선과는 비교할 수 없을 만큼의 장거리 및 고속 통신이 가능함
        - 100Gbps의 데이터 전송
        - 광섬유 내부와 외부를 다른 밀도를 가지는 유리나 플라스틱 섬유로 제작해서 한 번 들어간 빛이 내부에서 계속적으로 반사하며 전진하여 반대편 끝까지 가는 원리를 이용
- 무선 LAN (IEEE802.11)
    - 무선 LAN 장치 = 반이중화 통신 사용 (수신과 송신 채널 동일
    - 반이중화 통신 (half duplex)
        - 양쪽 장치는 서로 통신할 수 있지만, 동시에는 통신할 수 없으며 한 번에 한 방향만 통신할 수 있는 방식을 말함
            - 둘 이상의 장치가 동시에 전송시 충돌 발생하여 메시지 손실 또는 왜곡 가능하므로 충돌 방지 시스템 필요
        - 방식
            - CSMA/CA : 장치에서 데이터를 보내기 전에 일련의 과정을 기반으로 사전에 가능한 한 충돌을 방지하는 방식
                - CSMA/CA로 프레임을 보낼 시 과정
                    1. 사용 중인 채널이 있다면 다른 채널을 감지하다 유휴 상태(사용 가능한 상태이나 실제 작업이 없는 상태)인 채널을 발견함
                    2. IFS (프레임 간 공간 시간, InterFrame Space) 시간 만큼 기다림
                        - IFS
                            - 프레임의 우선 순위 정의할 때도 사용
                            - IFS가 낮으면 우선순위가 높음
                    3. 프레임을 보내기 전 0 ~ 2^k - 1 사이에서 결정된 랜덤 상수를 기반으로 결정된 시간 만큼 기다린 뒤 프레임을 보냄. 
                        1. 프레임을 보낸 뒤 제대로 송신이 되었고 ACK 세그먼트를 받았다면 마침.
                        2. 받지 못했다면 k = k + 1을 하며 이 과정을 반복함. 반복하다 k가 정해진 Kmax보다 더 커진다면 해당 프레임 전송은 버림 (abort)
- 무선 LAN을 이루는 주파수
    - 무선 LAN (`WLAN`, Wireless Local Area Network)
        - 무선 신호 전달 방식을 이용하여 2대 이상의 장치를 연결하는 기술
        - 공기(비유도 매체)에 주파수를 쏘아 무선 통신망 구축
            - 주파수 대역: 2.4GHz대역 또는 5GHz대역 중 하나를 써서 구축
                - 2.4GHz 대역: 장애물에 강한 특성을 가지고 있지만 저낮레인지, 무선 등 전파 간섭이 일어나는 경우가 많음
                - 5GHz 대역: 사용할 수 있는 채널 수도 많고 동시에 사용할 수 있기 때문에 상대적으로 깨끗한 전파 환경을 구축할 수 있음 (사용 권장)
    - 무선 LAN을 이용한 기술
        - 와이파이
            - 전자기기들이 무선 LAN 신호에 연결할 수 있게하는 기술
            - 이를 사용하기 위해 `무선 접속 장치 (AP, Access Point)`가 있어야 함 (공유기)
                - 이를 통해 유선 LAN에 흐르는 신호를 무선 LAN 신호로 바꿔주어 신호가 닿는 범위 내에서 무선 인터넷 사용 가능하게 됨
        - 지그비
        - 블루투스
    - BSS (Basic Service Set) : 기본 서비스 집합
        - 동일 BSS 내에 있는 AP들과 장치들이 서로 통신이 가능한 구조
            - 단순 공유기를 통해 네트워크에 접속하는 것이 아님
        - 근거리 무선 통신을 제공
        - 하나의 AP만을 기반으로 구축이 되어 있어 사용자가 한 곳에서 다른 곳으로 자유롭게 이동하며 네트워크에 접속하는 것은 불가능함
    - ESS (Extended Service Set) : 하나 이상의 연결된 BSS 그룹
        - 장거리 무선 통신을 제공하며 BSS보다 저 많은 가용성과 이동성을 지원함
        - 사용자가 한 장소에서 다른 장소로 이동하며 중단 없이 네트워크에 계속 연결함
- 이더넷 프레임
    - 데이터 링크 계층: 이더넷 프레임을 통해 전달받은 데이터의 에러를 검출하고 캡슐화하며 다음과 같은 구조를 가집니다.
        - Physical Layer Header
            - Preamble (7바이트)
                - 이더넷 프레임이 시작임을 알림
            - SFD (Start Frame Delimiter, 6바이트)
                - 다음 바이트부터 `MAC 주소` 필드가 시작됨을 알림
                    - MAC 주소: 컴퓨터나 노트북 등 각 장치에는 네트워크에 연결하기 위한 장치 (LAN 카드) 가 있는데, 이를 구별하기 위한 식별번호를 말함, 6바이트 (48비트) 로 구성됨
        - DMAC (Destination_목적지 MAC 주소, 6바이트)
            - 수신 MAC 주소
        - SMAC (Source_출발지 MAC 주소, 6바이트)
            - 송신 MAC 주소
        - EtherType (2바이트)
            - IP 프로토콜 정의 (데이터 계층의 위)
            - ex. IPv4 또는 IPv6
        - Payload
            - 전달받은 데이터
        - CRC (4바이트)
            - 에러 확인 비트

### 계층 간 데이터 송수신 과정

1. 애플리케이션 계층 -`필자가 보내는 요청 (request) 값들 캡슐화`→ 전송 계층
2. 링크 계층 통해 해당 서버와 통신
3. 해당 서버의 링크 계층 -`비캡슐화 과정`→ 애플리케이션
- 캡슐화 과정
    - 상위 계층의 헤더와 데이터를 하위 계층의 데이터 부분에 포함시키고 해당 계층의 헤더를 삽입하는 과정
        - 애플리케이션 계층 -`데이터의 세그먼트 또는 데이터 그램화 = [TCP(L4) 헤더 + 데이터]`→전송 계층으로 전달
        - 전송 계층 -`데이터의 패킷화 = [IP(L3) 헤더 + TCP(L4) 헤더 + 데이터]`→인터넷 계층으로 전달
        - 인터넷 계층 -`데이터의 프레임화 = [프레임 헤더 + IP(L3) 헤더 + TCP(L4) 헤더 + 데이터 + 프레임 트레일러]`→링크 계층으로 전달
- 비캡슐화 과정
    - 하위 계층에서 상위 계층으로 가며 각 계층의 헤더 부분을 제거하는 과정
    - 최종적으로 사용자에게 애플리케이션의 PDU인 메시지로 전달됨

### (2) PDU

- PDU (Protocol Data Unit): 네트워크의 어떠한 계층에서 계층으로 데이터가 전달될 때 한 덩어리의 단위
    - 헤더 (제어 관련 정보 포함) + 페이로드 (데이터) 로 구성되어 있음
    - 계층마다 부르는 명칭이 다름
        - 애플리케이션 계층 = 메시지
            - ex. HTTP의 헤더 = 문자열
                - curl 명령어 이용하여 [www.naver.com](http://www.naver.com) HTTP 요청 → PDU 테스팅시 응답 헤더값이 모두 문자열
            - 비트로 송수신하는 것이 빠르고 효율성이 높지만 애플리케이션 계층은 헤더에 authorization 값 등 다른 값들을 넣는 확장이 쉬우므로 문자열을 기반으로 송수신함
        - 전송 계층 = 세그먼트 (TCP), 데이터그램 (UDP)
        - 인터넷 계층 = 패킷
        - 링크 계층 = 프레임 (데이터 링크 계층), 비트 (물리 계층)

## 3. 네트워크 기기

## 4. IP 주소

## 5. HTTP

HTTP

- 전송 계층 위에 있는 애플리케이션 계층으로서 웹 서비스 통신에 사용됨
- **HTTP/1.0**
    - 한 연결당 하나의 요청을 처리하도록 설계됨
    - RTT 증가
        - 서버로부터 파일을 가져올 때마다 TCP의 3-웨이 핸드셰이크를 계속해서 열어야 하기 때문에 RTT가 증가한다는 단점
        - **RTT**: 패킷이 목적지에 도달하고 나서 다시 출발지로 돌아오기까지 걸리는 시간
    - RTT 증가 해결 방법
        - 매번 연결시 RTT 증가 → 서버 부담 → 사용자 응답 시간 ⤴️
        - 해결책
            1. 이미지 스플리팅
                - 많은 이미지가 합쳐 있는 하나의 이미지를 다운로드 받고, 이를 기반으로 background-image의 position을 이용하여 이미지를 표기하는 방법
            2. 코드 압축
                - 코드를 압축해서 개행 문자, 빈칸 제거 → 코드의 크기를 최소화함
            3. 이미지 Base64 인코딩
                - 이미지 파일을 64진법으로 이루어진 문자열로 인코딩하는 방법
                - 장점: 서버와의 연결으 ㄹ열골 이미지에 대해 서버에 HTTP요청을 할 필요가 없음
                - 단점: Base64 문자열로 변환할 경우 37% 정도 크기가 더 커지는 단점이 있음
                - 인코딩: 정보의 형태나 형식을 표준화, 보안, 처리 속도 향상, 저장 공간 절약 등을 위해 다른 형태나 혀익을 변환하는 처리 방식
- **HTTP/1.1**
    - HTTP/1.0에서 발전한 것
    - 매번 TCP 연결을 하는 것이 아니라 한 번 TCP 초기화를 한 이후에 keep-alive라는 옵션으로 여러 개의 파일을 송신할 수 있게 함
        - HTTP/1.0에서도 keep-alive가 있었지만 표준화가 되어 있지 않았고, HTTP/1.1부터 표준화가 되어 기본 옵션으로 설정됨
        - TCP 3-웨이 핸드셰이크가 발생하면 그다음부터 발생하지 않음
        - 단점: 문서 안에서 다수의 리소스 (이미지, 동영상, css 파일, js 파일 등)을 처리하려면 요청할 리소수 개수에 비례해서 대기 시간이 길어짐
    - HOL Blocking (Head Of Line Blocking)
        - 네트워크에서 같은 큐에 있는 패킷이 그 첫 번째 패킷에 의해 지연될 때 발생하는 성능 저하 현상
        - 예: image.jpg와 style.css, data.xml을 다운로드받을 때 보통은 순차적으로 잘 받아지지만 image.jpg가 느리게 받아진다면 그 뒤에 있는 것들이 대기하게 되며 다운로드가 지연되는 상태
    - 무거운 헤더 구조
        - HTTP/1.1의 헤더에는 쿠키 등 많은 데이터가 들어 있고 압축이 되지 않아 무거움
- **HTTP/2**
    - SPDY 프로토콜에서 파생된 HTTP/1.x보다 지연 시간을 줄이고 응답 시간을 더 빠르게 할 수 있으며 멀티플렉싱, 헤더 압축, 서버 푸시, 요청의 우선순위 처리를 지원하는 프로토콜
    - 멀티플렉싱
        - 여러 개의 스트림을 사용하여 송수신한다는 것
            - 스트림: 시간이 지남에 따라 사용할 수 있게 되는 일련의 데이터 요소를 가리키는 데이터 흐름
        - 특정 스트림의 패킷이 손실되었다고 하더라도 해당 스트림에만 영향을 미치고 나머지 스트림은 멀쩡하게 동작 가능
        - 특징
            - 병렬적인 스트림을 통한 데이터 서빙
            - 스트림 내의 데이터들도 쪼개져 있음
                - 애플리케이션에서 받아온 메시지를 독립된 프레임으로 조각내어 서로 송수신한 이후 다시 조립하며 데이터를 주고 받음
            
            ⇒ 단일 연결을 통해 병렬로 여러 요청, 응답 주고 받을 수 있음
            
            - HOL Blocking 해결 가능
    - 헤더 압축
        - HTTP/1.x의 문제인 큰 헤더를 해결
        - **허프만 코딩** 압축 알고리즘 사용하는 HPACK 압축 형식을 가짐
            - 문자열을 문자 단위로 쪼개 빈도수를 세어 빈도가 높은 정보는 적은 비트 수를 사용하여 표현함
            - 빈도가 낮은 정보는 비트수를 많이 사용하여 표현해서 전체 데이터의 표현에 필요한 비트양을 줄이는 원리
    - 서버 푸시
        - HTTP/1.1에서는 클라이언트가 서버에 요청을 해야 파일을 다운로드받을 수 있었다면 HTTP/2는 클라이언트 요청 없이 서버가 바로 리소스를 푸시 가능
        - html에는 css나 js 파일이 포함되기 마련인데 html을 읽으면서 그 안에 들어 있던 css 파일을 서버에서 푸시하여 클라이언트에 먼저 줄 수 있음
- **HTTPS**
    - HTTP/2는 HTTPS 위에서 동작함
    - 애플리케이션 계층과 전송 계층 사이에서 신뢰 계층인 SSL/TLS 계층을 넣은 신뢰할 수 있는 HTTP 요청 ⇒ 통신을 암호화함
    - SSL/TLS
        - SSL (Secure Socket Layer), TLS (Transport Layer Security Protocol)
            - 합쳐서 부름
            - 최신 버전인 TLS 1.3 기반으로 설명
        - 전송 계층에서 보안을 제공하는 프로토콜
            - 클라이언트와 서버가 통신할 때 SSL/TLS를 통해 제3자가 메시지를 도청하거나 변조하지 못하도록 함
            - 공격자가 서버인 척하면서 사용자 정보를 가로채는 네트워크상의 ‘인터셉터’를 방지할 수 있음
        
        > `보안 세션`을 기반으로 데이터를 암호화하며 보안 세션이 만들어질 때 `인증 메커니즘`, `키 교환 암호화 알고리즘`, `해싱 알고리즘`이 사용됨
        > 
        - 보안 세션
            - 보안이 시작되고 끝나는 동안 유지되는 세션
                - 세션: 운영체제가 어떠한 사용자로부터 자신의 자산 이용을 허락하는 일정한 기간 (사용자는 일정시간 동안 응용 프로그램, 자원 등을 사용 가능)
            - SSL/TLS는 핸드 셰이크를 통해 보안 세션을 생성하고, 이를 기반으로 상태 정보 등을 공유함
                1. 클라이언트와 서버가 키 공유 → 이를 기반으로 인증, 인증 확인 등의 작업이 일어나는 단 한 번의 1-RTT가 생긴 후 데이터 송수신
                2. 클라이언트에서 `사이퍼 슈트`를 서버에서 전달 → 서버는 받은 사이퍼 슈트의 암호화 알고리즘 리스트를 제공할 수 있는지 확인 
                    - 사이퍼 슈트: **프로토콜**, **AEAD 사이퍼 모드**, **해싱 알고리즘**이 나열된 규약을 말하며, 다섯 개가 있음
                        1. TLS_AES_128_GCM_SHA256: 세가지 규약이 들어있음
                            1. TLS : 프로토콜
                            2. AES_128_GCM : AEAD 사이퍼 모드
                                1. AEAD 사이퍼 모드
                                    - Authenticated Encryption with Associated Data
                                    - 데이터 암호화 알고리즘
                                    - AES_128_GCM 등이 있음
                                        - 128비트의 키를 사용하는 표준 블록 암호화 기술과 병렬 계산에 용이한 암호화 알고리즘 GCM이 결합된 알고리즘
                            3. SHA256 : 해싱 알고리즘
                        2. TLS_AES_256_GCM_SHA384
                        3. TLS_CHACHA20_POLY1305_SHA256
                        4. TLS_AES_CCM_SHA256
                        5. TLS_AES_128_CCM_8_SHA_256
                3. 제공 가능시 서버에서 클라이언트로 인증서를 보내는 인증 메커니즘 시작됨
                4. 이후 해싱 알고리즘 등으로 암호화된 데이터의 송수신 시작됨
        - 인증 메커니즘
            - CA (Certificate Authorities) 에서 발급한 인증서를 기반으로 이루어짐
                - 안전한 연결을 시작하는 데 있어 필요한 ‘공개키’를 클라이언트에 제공하고 사용자가 접속한 ‘서버가 신뢰’할 수 있는 서버임을 보장
                - 인증성 구성
                    - 서비스 정보, 공개키, 지문, 디지털 서명 등
            - CA 발급 과정
                1. 자신의 서비스가 CA 인증서를 발급받으려면 자신의 사이트 정보와 공개키를 CA에 제출해야 함
                2. 이후 CA는 공개키를 해시 값인 지문을 사용하는 CA의 비밀키 등을 기반으로 CA 인증서를 발급함
        - 암호화 알고리즘
            - 키 교환 암호화 알고리즘
                - 대수곡선 기반의 ECDHE 또는 모듈식 기반의 DHE를 사용
                    - 둘 다 디피-헬만(Diffie-Hellman) 방식을 근간으로 만들어짐
            - 해싱 알고리즘: 데이터를 추정하기 힘든 더 작고, 섞여 있는 조각으로 만드는 알고리즘
                - SHA-256 알고리즘 (많이 쓰임), SHA-384 알고리즘
                - 해시: 다양한 길이를 가진 데이터를 고정된 길이를 가진 데이터로 매핑한 값
                - 해싱: 임의의 데이터를 해시로 바꿔주는 일이며 해시 함수가 이를 담당
    - SEO에도 도움이 되는 HTTPS
        
        > SEO (Search Engine Optimization) : 검색 엔진 최적화
        > 
        - 캐노니컬 설정
            
            ```tsx
            <link rel="cannonical" href="https://example.com/page2.php" />
            ```
            
            - link에 캐노니컬을 설정해야 함
        - 메타 설정
            - html 파일의 가장 윗부분인 메타를 잘 설정해야 함
        - 페이지 속도 개선
            - 구글 PageSpeedInsights의 리포팅을 통한 주기적 관리
        - 사이트맵 관리
            - 사이트맵(sitemap.xml)을 정기적으로 관리
                - 사이트맵 제너레이터 사용
                - 직접 코드 구축
    - HTTPS 구축방법
        1. 직접 CA에서 구매한 인증키를 기반으로 HTTPS 서비스 구축
        2. 서버 앞단의 HTTPS를 제공하는 로드밸런서를 둬서 구축
        3. 서버 앞단 HTTPS를 제공하는 CDN을 둬서 구축
- **HTTP/3**
    - HTTP/1.1 및 HTTP/2와 함께 World Wide Web에서 정보를 교환하는 데 사용되는 HTTP의 세 번째 버전
    - TCP 위에서 돌아가는 HTTP/2와는 달리 HTTP/3은 QUIC이라는 계층 위에서 돌아가며, TCP 기반이 아닌 UDP 기반으로 돌아감
    - HTTP/2에서 장점이었던 멀티플렉싱을 가지고 있음
    - 초기 연결 설정 시 지연 시간 감소라는 장점
        - QUIC 사용
            - TCP를 사용하지 않기 때문에 통신을 시작할 때 번거로운 3-웨이 핸드셰이크 과정을 거치지 않아도 됨
            - 첫 연결 설정에 1-RTT만 소요됨
                - 클라이언트가 서버에 어떤 신호를 한 번 주고, 서버도 거기에 응답하기만 하면 바로 본 통신을 시작할 수 있다는 것
            - 순방향 오류 수정 메커니즘(FEC, Forward Error Correction)이 적용됨
                - 전송한 패킷이 손실되었다면 수신 측에서 에러를 검출하고 수정하는 방식
                - 열악한 네트워크 환경에서도 낮은 패킷 손실률을 자랑함
